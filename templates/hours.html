{% extends "base.html" %}
{% block title %}Табель рабочего времени — TopHire{% endblock %}

{% block content %}
<div class="hours-wrapper">

    <h1>Табель рабочего времени</h1>
    <div class="period">Период: {{ month }}</div>

    <div class="hours-controls">
        <a href="{{ url_for('dashboard') }}" class="btn-back">← Обзор</a>
        <a href="{{ url_for('view', type='salary', month=month) }}" class="btn-salary">Начисления за этот месяц</a>
    </div>

    <!-- Блок заголовков -->
    <div class="hours-header-grid">
        <div class="title-cell">Имя</div>
        <div class="title-cell">Фамилия</div>

        {% for col in columns %}
            {% if col != "PESEL" and col not in ["Имя","Фамилия"] %}
                <div class="day-header">{{ col }}</div>
            {% endif %}
        {% endfor %}
    </div>

    <!-- Блок значений -->
    <div class="hours-values-grid">
        <div class="value-cell name-cell">{{ values[1] }}</div>
        <div class="value-cell name-cell">{{ values[2] }}</div>

        {% for col, val in zip(columns, values) %}
            {% if col != "PESEL" and col not in ["Имя","Фамилия"] %}
                <div class="day-value 
                    {% if val == 8 %}day-normal
                    {% elif val == 0 %}day-zero{% endif %}
                ">
                    {{ val }}
                </div>
            {% endif %}
        {% endfor %}
    </div>

</div>

<style>
.hours-wrapper {
    padding: 20px;
}

/* === HEADER GRID === */
.hours-header-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 20px;
}

.title-cell {
    padding: 12px 18px;
    background: #0a2a6b;
    color: #d1e3ff;
    font-weight: 600;
    border-radius: 8px;
    min-width: 130px;
    text-align: center;
}

.day-header {
    padding: 12px;
    min-width: 55px;
    background: #0a2a6b;
    color: #d1e3ff;
    border-radius: 8px;
    text-align: center;
}

/* === VALUES GRID === */
.hours-values-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 10px;
}

.value-cell.name-cell {
    padding: 12px 18px;
    background: #10294d;
    color: #fff;
    border-radius: 8px;
    min-width: 130px;
    text-align: center;
}

.day-value {
    padding: 12px;
    min-width: 55px;
    background: #0f1e38;
    color: #eaeef6;
    border-radius: 8px;
    text-align: center;
}

/* Подсветка */
.day-normal { background: #103d2e !important; color: #5bffaf; }
.day-zero   { background: #2d2d2d !important; color: #b5b5b5; }

</style>
{% endblock %}
